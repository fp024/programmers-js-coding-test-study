import { isDirectRun } from '../../utils/isDirectRun.js';
/**
 * ë°”íƒ•í™”ë©´ ì •ë¦¬
 *   https://school.programmers.co.kr/learn/courses/30/lessons/161990
 */
function solution(wallpaper: string[]) {
  const desktop: number[][] = Array.from({ length: wallpaper.length }, () =>
    Array(wallpaper[0].length).fill(0)
  );

  const height = wallpaper.length;
  const width = wallpaper[0].length;

  for (let r = 0; r < height; r++) {
    for (let c = 0; c < width; c++) {
      if (wallpaper[r][c] === '#') {
        desktop[r][c] = 1;
      }
    }
  }

  // ìµœì†Œ r,w, ìµœëŒ€ r,w ì¢Œí‘œë¥¼ êµ¬í•˜ë©´ ë  ê²ƒ ê°™ìŒ...ðŸ¤”
  // ë“œëž˜ê·¸ ì˜ì—­ì„ ê²°ì •í•˜ê¸° ìœ„í•œ ê²½ê³„ê°’ ê³„ì‚°
  //   - ìµœì†Œ rì„ êµ¬í•  ë•ŒëŠ” right-bottomì˜ r ì¢Œí‘œë³´ë‹¤ ìž‘ì€, ì•„ì´ì½˜ì´ ìœ„ì¹˜í•œ ìµœì†Œ r
  //   - ìµœì†Œ wì„ êµ¬í•  ë•ŒëŠ” right-bottomì˜ w ì¢Œí‘œë³´ë‹¤ ìž‘ì€, ì•„ì´ì½˜ì´ ìœ„ì¹˜í•œ ìµœì†Œ w
  //   - ìµœëŒ€ rì„ êµ¬í•  ë•ŒëŠ” left-topì˜ r ì¢Œí‘œë³´ë‹¤ í°, ì•„ì´ì½˜ì´ ìœ„ì¹˜í•œ ìµœëŒ€ r
  //   - ìµœëŒ€ wì„ êµ¬í•  ë•ŒëŠ” left-topì˜ w ì¢Œí‘œë³´ë‹¤ í°, ì•„ì´ì½˜ì´ ìœ„ì¹˜í•œ ìµœëŒ€ w
  let minRow = height - 1;
  let minCol = width - 1;
  let maxRow = 0;
  let maxCol = 0;

  for (let r = 0; r < height; r++) {
    for (let c = 0; c < width; c++) {
      if (desktop[r][c] === 1) {
        minRow = Math.min(minRow, r);
        minCol = Math.min(minCol, c);
        maxRow = Math.max(maxRow, r);
        maxCol = Math.max(maxCol, c);
      }
    }
  }

  // ðŸ’¡ ë‹¤ìŒ ëŒ€ê°ì„  ë°©í–¥ìœ¼ë¡œ í•œ ì¹¸ê¹Œì§€ ë“œëž˜ê·¸ë¥¼ í•´ì•¼ ë¸”ëŸ­ì´ ì‹¸ì¸ë‹¤ê³  ê°„ì£¼í•´ì„œ mxRow, maxColì— 1ì”© ë”í•´ì£¼ì—ˆë‹¤.
  return [minRow, minCol, maxRow + 1, maxCol + 1];
}

// === ë‹¨ìˆœ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ ===
// NOSONAR // cspell:disable
if (isDirectRun(import.meta.url)) {
  // [
  //   [ 0, 1, 0, 0, 0 ],
  //   [ 0, 0, 1, 0, 0 ],
  //   [ 0, 0, 0, 1, 0 ]
  // ]

  console.log(
    solution([
      '.#...', //
      '..#..',
      '...#.',
    ])
  );

  // [
  //   [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  //   [0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
  //   [0, 0, 0, 0, 0, 0, 1, 1, 0, 0],
  //   [0, 0, 0, 1, 1, 0, 0, 0, 0, 0],
  //   [0, 0, 0, 0, 1, 0, 0, 0, 0, 0]
  // ]

  console.log(
    solution([
      '..........', //
      '.....#....',
      '......##..',
      '...##.....',
      '....#.....',
    ])
  );

  // [
  //   [0, 1, 1, 0, 0, 0, 1, 1, 0],
  //   [1, 0, 0, 1, 0, 1, 0, 0, 1],
  //   [1, 0, 0, 0, 1, 0, 0, 0, 1],
  //   [0, 1, 0, 0, 0, 0, 0, 1, 0],
  //   [0, 0, 1, 0, 0, 0, 1, 0, 0],
  //   [0, 0, 0, 1, 0, 1, 0, 0, 0],
  //   [0, 0, 0, 0, 1, 0, 0, 0, 0]
  // ]
  console.log(
    solution([
      '.##...##.', //
      '#..#.#..#',
      '#...#...#',
      '.#.....#.',
      '..#...#..',
      '...#.#...',
      '....#....',
    ])
  );

  console.log(
    solution([
      '..', //
      '#.',
    ])
  );
}

// cspell:enable
//
// === ë¬¸ì œ ì½ê³  ì²« ëŠë‚Œ ===
//   ì¢Œí‘œê°„ ê±°ë¦¬ êµ¬í•˜ëŠ” ê³µì‹ì€ ë¨¼ì € í–ˆë˜, í‚¤íŒ¨ë“œ ëˆ„ë¥´ê¸°ì—ì„œ í•´ê²°í–ˆë˜ ë°©ë²•ê³¼ ë™ì¼í•œ ê²ƒ ê°™ë‹¤.
//   (ê·¸ëŸ°ë°, í’€ê³  ë³´ë‹ˆ... ê²°ê³¼ìƒìœ¼ë¡œëŠ” ê±°ë¦¬ê³µì‹ì„ ì“¸ í•„ìš”ëŠ” ì—†ì—ˆìŒ..ðŸ¤”)
//   ë§¨í—ˆíŠ¼ ì¢Œí‘œ
//     https://school.programmers.co.kr/learn/courses/30/lessons/67256
//   ì¼ë‹¨ì€ ìµœì†Œ ë“œë ˆê·¸ ì‚¬ê°ì˜ì—­ì—ì„œ
//   top-left ì¢Œí‘œí•˜ê³ , bottom-right ì¢Œí‘œë¥¼ êµ¬í•´ì•¼í•˜ëŠ”ë°...
//
//   ìš°ì„  ë¬¸ìžì—´ë¡œ ì „ë‹¬ëœ ë°ì´í„°ë¥¼ ì¢Œí‘œê³„ë¡œ ë°”ê¿”ë‘¬ì•¼í•  ê²ƒ ê°™ê¸´í•˜ë‹¤.
//   ì¼ë‹¨ í’€ê¸´ í–ˆë‹¤. ê·¸ëŸ°ë° ì ì˜ ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ë°©ì‹ì„ í™œìš©í•˜ì§„ ì•Šê³ ,
//   ì „ì²´ ì¢Œí‘œ íƒìƒ‰ì„ í•´ì„œ ì•„ì´ì½˜ì´ ìžˆëŠ” ìµœì†Œ ì¢Œí‘œí•˜ê³  ìµœëŒ€ ì¢Œí‘œë¥¼ êµ¬í•˜ëŠ” ì‹ìœ¼ë¡œ í–ˆë‹¤.
//   +1ì  ì–»ìŒ...
//
//
// === ë‹¤ë¥¸ ì‚¬ëžŒ í’€ì´ í™•ì¸ ì´í›„ ì˜ê²¬ ===
//   ë‹¤ë¥¸ ë¶„ë“¤ í’€ì´ë¥¼ ë³´ë‹ˆ, ë‚˜ì™€ ê°œë…ì€ ë¹„ìŠ·í•œë°, ê³ ì°¨í•¨ìˆ˜ë¡œ ì½”ë“œë¥¼ ë” ê¹”ë”í•˜ê²Œ í•˜ì…¨ë‹¤. ðŸ‘
//
export default solution;
