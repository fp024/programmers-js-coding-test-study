# 행렬의 덧셈과 곱셈

> 행렬의 덧셈을 구하는 문제였는데, 곱셈처럼 생각하고 있어서 해깔렸다. 
>
> **관련 문제**
>
> [exam022-12950.ts](../src/ts/lv_1/exam022-12950.ts)



## 나

행렬 덧셈이 그냥 같은 위치에 있는 것을 더하기만 하면 되는거니?

## AI Assistant

네, 맞습니다! 행렬의 덧셈은 정확히 같은 위치(같은 행과 열)에 있는 원소들을 더하는 것입니다. 수학적으로도 이렇게 정의되어 있습니다.

예를 들어 다음과 같은 두 행렬이 있다면:

```
행렬 A = [1 2]    행렬 B = [3 4]
         [2 3]            [5 6]
```

덧셈 결과는 다음과 같습니다:

```
A + B = [1+3 2+4]   = [4 6]
        [2+5 3+6]     [7 9]
```

주어진 코드에서도 이 원리를 정확히 구현하고 있습니다:

```ts
arr1.map((row, i) => row.map((val, j) => val + arr2[i][j]))
```

이 코드는:

1. 각 행(`row`)을 순회하면서
2. 각 열의 원소(`val`)에 대해
3. 같은 위치(`i`번째 행, `j`번째 열)의 `arr2` 원소를 더합니다

단, 주의할 점은:

- 두 행렬의 크기가 같아야 합니다 (행과 열의 개수가 동일해야 함)
- 만약 크기가 다른 행렬끼리 더하려고 하면 에러가 발생할 수 있습니다

## 나

행렬 곱셈은 뭐였지?

## AI Assistant

행렬 곱셈은 덧셈과는 많이 다릅니다! 좀 더 복잡한 과정을 거칩니다.

행렬 곱셈의 핵심 규칙은 다음과 같습니다:

1. **크기 조건**: 첫 번째 행렬의 열 개수와 두 번째 행렬의 행 개수가 같아야 합니다.
   - A(m×n) × B(n×p) = C(m×p)
2. **계산 방법**: 
   - 첫 번째 행렬의 행과 두 번째 행렬의 열을 곱하고 더합니다
   - 각 원소를 구할 때 여러 번의 곱셈과 덧셈이 필요합니다

예시로 설명하겠습니다:

```
행렬 A = [1 2]    행렬 B = [5 6]
         [3 4]            [7 8]

결과 = [1×5 + 2×7  1×6 + 2×8]   = [19 22]
       [3×5 + 4×7  3×6 + 4×8]     [43 50]
```

TypeScript로 구현하면 다음과 같습니다:

```ts
function matrixMultiply(A: number[][], B: number[][]) {
    const rowsA = A.length;
    const colsA = A[0].length;
    const colsB = B[0].length;
    
    // 결과 행렬 초기화
    const result: number[][] = Array(rowsA).fill(0)
        .map(() => Array(colsB).fill(0));
    
    // 행렬 곱셈 수행
    for (let i = 0; i < rowsA; i++) {
        for (let j = 0; j < colsB; j++) {
            for (let k = 0; k < colsA; k++) {
                result[i][j] += A[i][k] * B[k][j];
            }
        }
    }
    
    return result;
}
```

주요 특징:

1. **교환법칙이 성립하지 않습니다**: A×B ≠ B×A
2. **결과 행렬의 크기**:
   - A가 m×n 행렬이고
   - B가 n×p 행렬이면
   - 결과는 m×p 행렬이 됩니다
3. **계산량**이 덧셈보다 많습니다:
   - 각 원소를 계산할 때 여러 번의 곱셈과 덧셈이 필요
   - 시간 복잡도는 O(n³)입니다 (기본적인 구현의 경우)

## 나

덧셈을 곱셈처럼 생각했나봐... 😅 덧셈은 아주 단순하네..

## AI Assistant

네, 맞습니다! 😄

행렬 덧셈은 정말 직관적이고 단순합니다:

- 같은 위치끼리 더하기만 하면 됩니다
- 마치 두 개의 2차원 배열에서 같은 위치의 숫자를 더하는 것과 같죠!

```
[1 2]   +   [3 4]   =   [4 6]
[2 3]       [5 6]       [7 9]

그냥 이렇게 똑같은 자리끼리 더하면 끝! 😊
```

반면에 행렬 곱셈은:

- 행과 열을 곱하고 더하고...
- 여러 단계의 계산이 필요하고...
- 결과 크기도 달라지고...

그래서 처음에 곱셈처럼 생각하셨다면 훨씬 복잡하게 느끼셨을 것 같네요! 😅

다행히 덧셈은 정말 단순한 연산이라서, 코드도 map 함수 하나로 깔끔하게 해결되는 거죠:

```
arr1.map((row, i) => row.map((val, j) => val + arr2[i][j]))
```
